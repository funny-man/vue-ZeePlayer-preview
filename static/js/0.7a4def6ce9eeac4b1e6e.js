webpackJsonp([0],{WIvk:function(s,t){},kvay:function(s,t,e){"use strict";var i=e("Dd8w"),a=e.n(i),l=e("qwAB"),n=e("ZV4u"),r=e("y/jF"),o=e("3Q4o"),c=e("NYxO"),g=e("F4+m"),h=Object(o.c)("transform"),u={mixins:[g.b],props:{bgImage:{type:String,default:""},songs:{type:Array,default:function(){return[]}},title:{type:String,default:""},ranking:{type:Boolean,default:!1}},data:function(){return{scrollY:0,blur:0,showPlay:!1}},computed:{bgStyle:function(){return"background-image:url("+this.bgImage+")"},setBlur:function(){return"backdrop-filter:blur("+this.blur+"px);-webkit-backdrop-filter:blur("+this.blur+"px);"}},created:function(){this.listenScroll=!0,this.probeType=3},mounted:function(){this.imageHeight=this.$refs.bgImage.clientHeight,this.minTranslateY=-(this.imageHeight-44),this.$refs.list.$el.style.top=this.$refs.bgImage.clientHeight+"px"},methods:a()({handlePlaylist:function(s){var t=s.length>0?"74px":"";this.$refs.list.$el.style.bottom=t,this.$refs.list.refresh()},goBack:function(){this.$router.back()},scroll:function(s){this.scrollY=s.y},selectItem:function(s,t){this.selectPlay({list:this.songs,index:t})},random:function(){console.log("随机播放"),this.randomPlay(this.songs)}},Object(c.b)(["selectPlay","randomPlay"])),watch:{scrollY:function(s){var t=Math.max(this.minTranslateY,s),e=1,i=Math.abs(s/this.imageHeight);this.$refs.layer.style[h]="translate3d(0,"+t+"px,0)",s>0?(e=1+i,this.$refs.bgImage.style[h]="scale("+e+")"):this.blur=Math.min(20*i,20),s<this.minTranslateY?(this.$refs.bgImage.style.zIndex=1,this.$refs.bgImage.style.paddingTop="44px",this.$refs.filter.style.backgroundColor="#f54074",this.$refs.playBtn.style.bottom="1000px",this.showPlay=!0):(this.$refs.bgImage.style.zIndex=0,this.$refs.bgImage.style.paddingTop="70%",this.$refs.filter.style.backgroundColor="",this.$refs.playBtn.style.bottom="20px",this.showPlay=!1)}},components:{Scroll:l.a,SongList:n.a,Loading:r.a}},d={render:function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"music-list"},[e("div",{staticClass:"header"},[e("div",{staticClass:"back"},[e("i",{staticClass:"vue-music-icon icon-narrow",on:{click:s.goBack}})]),s._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:s.showPlay,expression:"showPlay"}],staticClass:"play",on:{click:s.random}},[e("i",{staticClass:"vue-music-icon icon-play-a"})]),s._v(" "),e("h3",{staticClass:"title",domProps:{innerHTML:s._s(s.title)}})]),s._v(" "),e("div",{ref:"bgImage",staticClass:"bg-image",style:s.bgStyle},[e("div",{directives:[{name:"show",rawName:"v-show",value:s.songs.length,expression:"songs.length"}],ref:"playBtn",staticClass:"play-btn",on:{click:s.random}},[e("i",{staticClass:"vue-music-icon icon-play-a"}),s._v(" "),e("span",[s._v("随机播放")])]),s._v(" "),e("div",{ref:"filter",staticClass:"filter",style:s.setBlur})]),s._v(" "),e("div",{ref:"layer",staticClass:"bg-layer"}),s._v(" "),e("scroll",{ref:"list",staticClass:"list",attrs:{data:s.songs,listenScroll:s.listenScroll,probeType:s.probeType},on:{scroll:s.scroll}},[e("div",{staticClass:"song-list-wrapper"},[e("song-list",{attrs:{songs:s.songs,ranking:s.ranking},on:{seletc:s.selectItem}})],1),s._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:!s.songs.length,expression:"!songs.length"}],staticClass:"loading-ct"},[e("loading")],1)])],1)},staticRenderFns:[]};var f=e("VU/8")(u,d,!1,function(s){e("WIvk")},"data-v-48f63955",null);t.a=f.exports}});
//# sourceMappingURL=0.7a4def6ce9eeac4b1e6e.js.map