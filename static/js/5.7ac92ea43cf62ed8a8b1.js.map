{"version":3,"sources":["webpack:///src/components/ranking/ranking.vue","webpack:///./src/components/ranking/ranking.vue?169f","webpack:///./src/components/ranking/ranking.vue","webpack:///./src/api/ranking.js"],"names":["mixins","mixin","data","topList","created","this","_getTopList","methods","extends_default","handlePlaylist","playlist","bottom","length","$refs","style","paddingBottom","rankingCt","refresh","selectItem","item","$router","push","path","id","setTopList","_this","Object","ranking","then","res","code","jsonp_data_config","vuex_esm","components","Scroll","scroll_scroll","Loading","loading","components_ranking_ranking","render","_vm","_h","$createElement","_c","_self","ref","attrs","staticClass","_l","key","on","click","$event","directives","name","rawName","value","expression","_v","song","index","_s","songname","singername","staticRenderFns","Component","__webpack_require__","normalizeComponent","ranking_ranking","ssrContext","__webpack_exports__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign___default","__WEBPACK_IMPORTED_MODULE_2__jsonp_data_config__","platform","hostUin","needNewCode","format","uin","__WEBPACK_IMPORTED_MODULE_4_axios___default","a","get","params","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default","resolve","topid","tpl","page","type","__WEBPACK_IMPORTED_MODULE_3_common_js_jsonp__"],"mappings":"yMAuCAA,QAAAC,EAAA,GACAC,KAFA,WAGA,OACAC,aAGAC,QAPA,WAQAC,KAAAC,eAEAC,QAAAC,KACAC,eADA,SACAC,GACA,IAAAC,EAAAD,EAAAE,OAAA,YACAP,KAAAQ,MAAAV,QAAAW,MAAAC,cAAAJ,EACAN,KAAAQ,MAAAG,UAAAC,WAEAC,WANA,SAMAC,GACAd,KAAAe,QAAAC,MACAC,KAAA,YAAAH,EAAAI,KAEAlB,KAAAmB,WAAAL,IAEAb,YAZA,WAYA,IAAAmB,EAAApB,KACAqB,OAAAC,EAAA,EAAAD,GAAAE,KAAA,SAAAC,GACAA,EAAAC,OAAAC,EAAA,IACAN,EAAAtB,QAAA0B,EAAA3B,KAAAC,aAIAuB,OAAAM,EAAA,EAAAN,EACAF,WAAA,kBAGAS,YACAC,OAAAC,EAAA,EACAC,QAAAC,EAAA,ICtEAC,GADiBC,OAFjB,WAA0B,IAAAC,EAAAnC,KAAaoC,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,IAAA,UAAAC,OAAqBvB,GAAA,aAAgBoB,EAAA,UAAeE,IAAA,YAAAE,YAAA,aAAAD,OAAgD5C,KAAAsC,EAAArC,WAAoBwC,EAAA,OAAYE,IAAA,UAAAE,YAAA,aAAqCJ,EAAA,KAAAH,EAAAQ,GAAAR,EAAA,iBAAArB,GAA8C,OAAAwB,EAAA,MAAgBM,IAAA9B,EAAAI,GAAAwB,YAAA,OAAAG,IAAmCC,MAAA,SAAAC,GAAyBZ,EAAAtB,WAAAC,OAAuBwB,EAAA,OAAYI,YAAA,gBAA0BJ,EAAA,OAAYU,aAAaC,KAAA,OAAAC,QAAA,SAAAC,MAAArC,EAAA,OAAAsC,WAAA,oBAA4EjB,EAAAkB,GAAA,KAAAf,EAAA,KAAAH,EAAAQ,GAAA7B,EAAA,kBAAAwC,EAAAC,GAAoE,OAAAjB,EAAA,MAAgBM,IAAAW,EAAAb,YAAA,cAAkCJ,EAAA,KAAAH,EAAAkB,GAAA,uBAAAlB,EAAAqB,GAAAD,EAAA,2BAAAjB,EAAA,QAA2FI,YAAA,aAAuBP,EAAAkB,GAAAlB,EAAAqB,GAAAF,EAAAG,aAAAtB,EAAAkB,GAAA,wBAAAlB,EAAAqB,GAAAF,EAAAI,YAAA,oCAAwHvB,EAAAkB,GAAA,KAAAf,EAAA,OAA2BU,aAAaC,KAAA,OAAAC,QAAA,SAAAC,OAAAhB,EAAArC,QAAAS,OAAA6C,WAAA,oBAAsFV,YAAA,eAA2BJ,EAAA,iBAAAH,EAAAkB,GAAA,KAAAf,EAAA,cAAmDG,OAAOQ,KAAA,gBAAqBX,EAAA,wBAEtmCqB,oBCCjB,IAcAC,EAdAC,EAAA,OAcAC,CACAC,EACA9B,GATA,EAVA,SAAA+B,GACAH,EAAA,SAaA,kBAEA,MAUAI,EAAA,QAAAL,EAAA,+CCtBO,WACL,IACM/D,EAAOqE,OAAkBC,EAAA,GAC7BC,SAAU,KACVC,QAAS,EACTC,YAAa,EACbC,OAAQ,OACRC,IAAK,IAEP,OAAOC,EAAAC,EAAMC,IARD,mBASVC,OAAQ/E,IACP0B,KAAK,SAACC,GACP,OAAOqD,EAAAH,EAAQI,QAAQtD,EAAI3B,aAIxB,SAAyBkF,GAC9B,IACMlF,EAAOqE,OAAkBC,EAAA,GAC7BC,SAAU,KACVE,YAAa,EACbU,IAAK,EACLC,KAAM,SACNC,KAAM,MACNH,UAEF,OAAO1D,OAAA8D,EAAA,EAAA9D,CATK,sDASMxB,EAAMsE,EAAA","file":"static/js/5.7ac92ea43cf62ed8a8b1.js","sourcesContent":["<template>\n  <div id=\"ranking\" ref=\"ranking\">\n    <scroll class=\"ranking-ct\" :data=\"topList\" ref=\"rankingCt\">\n      <div class=\"top-list\" ref=\"topList\">\n          <ul>\n            <li class=\"item\" v-for=\"(item) in topList\" :key=\"item.id\" @click=\"selectItem(item)\">\n              <div class=\"ranking-pic\">\n                <img v-lazy=\"item.picUrl\">\n              </div>\n              <ul>\n                <li class=\"song-list\" v-for=\"(song,index) in item.songList\" :key=\"index\">\n                  <p>\n                    {{ index+1}}\n                    <span class=\"songname\">{{ song.songname }}</span>\n                    -{{ song.singername }}\n                  </p>\n                </li>\n              </ul>\n            </li>\n          </ul>\n      </div>\n      <div class=\"loading-ct\"  v-show=\"!topList.length\">\n        <loading></loading>\n      </div>\n    </scroll>\n    <transition name=\"slide-fade\">\n      <router-view></router-view>\n    </transition>\n  </div>\n</template>\n\n<script type=\"text/ecmascript-6\">\nimport Scroll from 'base/scroll/scroll'\nimport { getTopList } from 'api/ranking'\nimport { ERR_OK } from 'api/jsonp-data-config'\nimport { playlistMixin } from 'common/js/mixin'\nimport { mapMutations } from 'vuex'\nimport Loading from 'base/loading/loading'\nexport default {\n  mixins: [playlistMixin],\n  data() {\n    return {\n      topList: []\n    }\n  },\n  created() {\n    this._getTopList()\n  },\n  methods: {\n    handlePlaylist(playlist) {\n      const bottom = playlist.length > 0 ? '74px' : ''\n      this.$refs.topList.style.paddingBottom = bottom\n      this.$refs.rankingCt.refresh()\n    },\n    selectItem(item) {\n      this.$router.push({\n        path: `/ranking/${item.id}`\n      })\n      this.setTopList(item)\n    },\n    _getTopList() {\n      getTopList().then(res => {\n        if (res.code === ERR_OK) {\n          this.topList = res.data.topList\n        }\n      })\n    },\n    ...mapMutations({\n      setTopList: 'SET_TOP_LIST'\n    })\n  },\n  components: {\n    Scroll,\n    Loading\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n@import \"~common/sass/variable.scss\";\n#ranking {\n  width: 100%;\n  position: fixed;\n  top: 113px;\n  bottom: 0;\n  // overflow: hidden;\n  .ranking-ct {\n    position: relative;\n    width: 100%;\n    height: 100%;\n    overflow: hidden;\n    .top-list {\n      // margin-top: 28px;\n      > ul {\n        margin-top: 3px;\n        > .item {\n          display: flex;\n          align-items: center;\n          margin: 0 19px 0 19px;\n          padding: 20px 0;\n          border-bottom: 1px solid #101622;\n          .ranking-pic {\n            > img {\n              display: block;\n              width: 80px;\n            }\n          }\n          > ul {\n            flex: 1;\n            margin-left: 14px;\n            margin-right: 14px;\n            overflow: hidden;\n            .song-list {\n              overflow: hidden;\n              width: 100%;\n              > p {\n                display: inline-block;\n                width: 100%;\n                color: $color-theme-text-s;\n                font-size: $font-size-m;\n                white-space: nowrap;\n                overflow: hidden;\n                text-overflow: ellipsis;\n                line-height: 1.5;\n                .songname {\n                  margin-left: 10px;\n                  color: $color-text-l;\n                }\n              }\n            }\n          }\n          .icon {\n            .icon-arrow {\n              color: $color-text-l;\n              font-size: 20px;\n            }\n          }\n        }\n      }\n    }\n    .loading-ct {\n      width: 100%;\n      height: 20px;\n      position: absolute;\n      top: 50%;\n      transform: translate(0, -50%);\n    }\n  }\n}\n.slide-fade-enter-active,\n.slide-fade-leave-active {\n  transition: all 0.5s ease;\n}\n.slide-fade-enter, .slide-fade-leave-to /* .slide-fade-leave-active below version 2.1.8 */ {\n  opacity: 0;\n  // transform: translate3d(100%,0,0)\n  transform: scale(0);\n}\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/ranking/ranking.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"ranking\",attrs:{\"id\":\"ranking\"}},[_c('scroll',{ref:\"rankingCt\",staticClass:\"ranking-ct\",attrs:{\"data\":_vm.topList}},[_c('div',{ref:\"topList\",staticClass:\"top-list\"},[_c('ul',_vm._l((_vm.topList),function(item){return _c('li',{key:item.id,staticClass:\"item\",on:{\"click\":function($event){_vm.selectItem(item)}}},[_c('div',{staticClass:\"ranking-pic\"},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(item.picUrl),expression:\"item.picUrl\"}]})]),_vm._v(\" \"),_c('ul',_vm._l((item.songList),function(song,index){return _c('li',{key:index,staticClass:\"song-list\"},[_c('p',[_vm._v(\"\\n                  \"+_vm._s(index+1)+\"\\n                  \"),_c('span',{staticClass:\"songname\"},[_vm._v(_vm._s(song.songname))]),_vm._v(\"\\n                  -\"+_vm._s(song.singername)+\"\\n                \")])])}))])}))]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.topList.length),expression:\"!topList.length\"}],staticClass:\"loading-ct\"},[_c('loading')],1)]),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"slide-fade\"}},[_c('router-view')],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5ad8b8c2\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/ranking/ranking.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5ad8b8c2\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ranking.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ranking.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ranking.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5ad8b8c2\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./ranking.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-5ad8b8c2\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ranking/ranking.vue\n// module id = null\n// module chunks = ","import { commonParams, options } from './jsonp-data-config'\nimport Jsonp from 'common/js/jsonp'\nimport axios from 'axios'\n\nexport function getTopList() {\n  const url = '/api/getTopList'\n  const data = Object.assign({}, commonParams, {\n    platform: 'h5',\n    hostUin: 0,\n    needNewCode: 1,\n    format: 'json',\n    uin: 0\n  })\n  return axios.get(url, {\n    params: data\n  }).then((res) => {\n    return Promise.resolve(res.data)\n  })\n}\n\nexport function getTopMusicList(topid) {\n  const url = 'https://c.y.qq.com/v8/fcg-bin/fcg_v8_toplist_cp.fcg'\n  const data = Object.assign({}, commonParams, {\n    platform: 'h5',\n    needNewCode: 1,\n    tpl: 3,\n    page: 'detail',\n    type: 'top',\n    topid\n  })\n  return Jsonp(url, data, options)\n}\n\n\n// WEBPACK FOOTER //\n// ./src/api/ranking.js"],"sourceRoot":""}